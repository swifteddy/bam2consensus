# BAM to Consensus FASTA Converter
This script takes a BAM file, concatenates it, converts it to SAM format, and then uses sam2consensus.py to generate a consensus FASTA file.

## Dependencies
* samtools
* Python (version 3.X or higher)

## Usage
1. Clone this repository and navigate to the bam2consensus directory
2. Ensure samtools is installed and in your PATH
3. Place your BAM file(s) in a directory
4. Run main.py
5. Follow the prompts to enter the input and output file names, don't forget the file extensions. Use the absolute path for the directory

## Output
* A concatenated BAM file.
* A SAM file generated from the concatenated BAM file.
* A consensus FASTA file generated by sam2consensus.py.

## Examples
### Example 1: Convert a BAM files to consensus FASTA
Suppose you have a BAM file called sample.bam located in the directory /home/user/data/. To convert this BAM file to a consensus FASTA file, follow these steps:

* Clone this repository and navigate to the bam2consensus directory.
* Make sure you have installed all the dependencies mentioned in the Dependencies section.
* Run the main.py script by typing python main.py in the terminal.
* When prompted for the folder where the .bam files are located enter the absolute path to the directory 

```bash
/home/usr/data/directory/
```

* When prompted for the input file name, enter the .bam file name 
```bash
sampleBamfile.bam
```

* When prompted for the output file name, enter the name you would like to give your output .sam and .bam files
```bash
PickAnything.bam
```
* When prompted for the threshold, enter a decimal between 0 and 1, you can enter multiple thresholds by putting a comma between them
```bash
0.25
```

```bash
0.4,0.5,0.6
```

The script will then generate a concatenated BAM file, a SAM file, and a consensus FASTA file in the /home/user/data/directory directory.

## Disclaimer
This script was created for personal use and may not work for all use cases. Use at your own risk. Also still in development.

## Original contributors for Sam2Consensus.py
* Code: Edgardo M. Ortiz
* Data and testing: Deise J. P. Gon√ßalves
